{
  "wedding_profile_endpoints_documentation": {
    "base_url": "https://yourdomain.com/api/v1",
    "description": "Core wedding invitation data aggregation endpoints",
    "endpoints": {
      "GET_user_profile": "/user/wedding-profile",
      "GET_user_statistics": "/user/wedding-profile/statistics", 
      "GET_public_profile": "/wedding-profile/public"
    }
  },

  "GET_/api/v1/user/wedding-profile": {
    "description": "Get comprehensive wedding profile data for authenticated user - CORE ENDPOINT",
    "method": "GET",
    "headers": {
      "Authorization": "Bearer {access_token}",
      "Content-Type": "application/json",
      "Accept": "application/json"
    },
    "success_response": {
      "status_code": 200,
      "data": {
        "data": {
          "user_info": {
            "id": 1,
            "name": "Ahmad & Siti",
            "email": "ahmad.siti@email.com",
            "phone": "08123456789",
            "kode_pemesanan": "WED001"
          },
          "mempelai": {
            "id": 1,
            "cover_photo": "https://yourdomain.com/storage/mempelai/cover_photo.jpg",
            "urutan_mempelai": "pria_kiri",
            "pria": {
              "photo": "https://yourdomain.com/storage/mempelai/photo_pria.jpg",
              "nama_lengkap": "Ahmad Rizki Pratama",
              "nama_panggilan": "Ahmad", 
              "ayah": "Bapak Sutrisno",
              "ibu": "Ibu Sari Indah"
            },
            "wanita": {
              "photo": "https://yourdomain.com/storage/mempelai/photo_wanita.jpg",
              "nama_lengkap": "Siti Nurhaliza Dewi",
              "nama_panggilan": "Siti",
              "ayah": "Bapak Wahyudi",
              "ibu": "Ibu Rina Melati"
            },
            "status": "active",
            "kd_status": "MPLAI001"
          },
          "invitation_package": {
            "id": 1,
            "status": "completed",
            "paket_undangan": {
              "id": 2,
              "jenis_paket": "premium",
              "name_paket": "Paket Premium Wedding",
              "price": 299000,
              "masa_aktif": 365,
              "features": {
                "halaman_buku": 20,
                "kirim_wa": true,
                "bebas_pilih_tema": true,
                "kirim_hadiah": true,
                "import_data": true
              }
            }
          },
          "events": [
            {
              "id": 1,
              "nama_acara": "Akad Nikah",
              "tanggal_acara": "2025-12-15",
              "start_acara": "08:00",
              "end_acara": "10:00",
              "alamat": "Masjid Agung Al-Hikmah, Jl. Raya Timur No. 123, Jakarta Timur",
              "link_maps": "https://maps.google.com/maps?q=-6.2088,106.8456",
              "countdown": {
                "id": 1,
                "name_countdown": "Akad Nikah Countdown"
              }
            },
            {
              "id": 2,
              "nama_acara": "Resepsi Pernikahan",
              "tanggal_acara": "2025-12-15",
              "start_acara": "18:00",
              "end_acara": "22:00",
              "alamat": "Gedung Serbaguna Merdeka, Jl. Proklamasi No. 45, Jakarta Pusat",
              "link_maps": "https://maps.google.com/maps?q=-6.1745,106.8227",
              "countdown": null
            }
          ],
          "stories": [
            {
              "id": 1,
              "title": "Pertemuan Pertama",
              "lead_cerita": "Kami pertama kali bertemu di kampus pada tahun 2020. Sebuah pertemuan yang tidak terduga di perpustakaan kampus yang mengubah hidup kami berdua.",
              "tanggal_cerita": "2020-02-14",
              "created_at": "2025-08-29 10:30:45"
            },
            {
              "id": 2,
              "title": "Lamaran",
              "lead_cerita": "Setelah 4 tahun berpacaran, akhirnya Ahmad memberanikan diri untuk melamar Siti di hadapan kedua orang tua dengan penuh haru dan bahagia.",
              "tanggal_cerita": "2024-12-25",
              "created_at": "2025-08-29 11:15:22"
            }
          ],
          "quotes": [
            {
              "id": 1,
              "name": "Ahmad & Siti",
              "qoute": "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya. (QS. Ar-Rum: 21)",
              "created_at": "2025-08-29 09:45:12"
            }
          ],
          "gallery": [
            {
              "id": 1,
              "photo": "https://yourdomain.com/storage/gallery/prewedding_1.jpg",
              "url_video": null,
              "nama_foto": "Prewedding Session 1",
              "status": true,
              "created_at": "2025-08-29 14:20:33"
            },
            {
              "id": 2,
              "photo": null,
              "url_video": "https://youtube.com/watch?v=abcdef123",
              "nama_foto": "Video Prewedding",
              "status": true,
              "created_at": "2025-08-29 15:30:11"
            }
          ],
          "bank_accounts": [
            {
              "id": 1,
              "kode_bank": "014",
              "nomor_rekening": "1234567890",
              "nama_bank": "Bank Central Asia",
              "nama_pemilik": "Ahmad Rizki Pratama",
              "methode_pembayaran": "Transfer Bank",
              "photo_rek": "https://yourdomain.com/storage/photos/rekening_1.jpg",
              "bank": {
                "id": 1,
                "name": "Bank Central Asia",
                "kode_bank": "014"
              }
            }
          ],
          "settings": {
            "id": 1,
            "domain": "ahmad-siti-wedding",
            "musik": "https://yourdomain.com/storage/music/wedding_song.mp3",
            "salam_pembuka": "Assalamu'alaikum Warahmatullahi Wabarakatuh",
            "salam_atas": "Dengan memohon rahmat dan ridho Allah SWT",
            "salam_bawah": "Atas kehadiran dan doa restu dari Bapak/Ibu/Saudara/i sekalian, kami ucapkan terima kasih."
          },
          "filter_undangan": {
            "id": 1,
            "halaman_sampul": 1,
            "halaman_mempelai": 1,
            "halaman_acara": 1,
            "halaman_ucapan": 1,
            "halaman_galery": 1,
            "halaman_cerita": 1,
            "halaman_lokasi": 1,
            "halaman_prokes": 0,
            "halaman_send_gift": 1,
            "halaman_qoute": 1
          },
          "guest_wishes": [
            {
              "id": 1,
              "nama": "Budi Santoso",
              "kehadiran": "hadir",
              "pesan": "Selamat menempuh hidup baru! Semoga menjadi keluarga yang sakinah, mawaddah, warahmah.",
              "created_at": "2025-08-29 16:45:22"
            }
          ],
          "guest_book": [
            {
              "id": 1,
              "nama": "Tamu VIP 1",
              "created_at": "2025-08-29 17:20:15"
            }
          ],
          "testimonials": [
            {
              "id": 1,
              "kota": "Jakarta",
              "provinsi": "DKI Jakarta",
              "ulasan": "Pelayanan sangat memuaskan, website undangannya keren dan mudah digunakan!",
              "status": true,
              "created_at": "2025-08-29 18:30:44"
            }
          ],
          "themes": [
            {
              "id": 1,
              "name": "Elegant Gold Theme"
            }
          ],
          "metadata": {
            "profile_created_at": "2025-08-29 08:00:00",
            "profile_updated_at": "2025-08-29 18:30:44",
            "total_events": 2,
            "total_stories": 2,
            "total_quotes": 1,
            "total_gallery_items": 2,
            "total_guest_wishes": 1,
            "is_public_view": false
          }
        }
      }
    },
    "not_found_error": {
      "status_code": 404,
      "data": {
        "message": "User profile not found."
      }
    },
    "unauthorized_error": {
      "status_code": 401,
      "data": {
        "message": "Unauthenticated."
      }
    }
  },

  "GET_/api/v1/user/wedding-profile/statistics": {
    "description": "Get wedding profile completion statistics and summary",
    "method": "GET",
    "headers": {
      "Authorization": "Bearer {access_token}",
      "Content-Type": "application/json",
      "Accept": "application/json"
    },
    "success_response": {
      "status_code": 200,
      "data": {
        "data": {
          "profile_completion": {
            "percentage": 85.5,
            "completed_items": 8,
            "total_items": 10,
            "missing_items": [
              "filter_undangan",
              "testimonials"
            ]
          },
          "total_events": 2,
          "total_stories": 2,
          "total_quotes": 1,
          "total_gallery_items": 5,
          "total_bank_accounts": 1,
          "total_guest_wishes": 15,
          "total_guest_book_entries": 8,
          "invitation_status": "completed"
        }
      }
    }
  },

  "GET_/api/v1/wedding-profile/public": {
    "description": "Get wedding profile for public display (by user_id or domain)",
    "method": "GET",
    "headers": {
      "Content-Type": "application/json",
      "Accept": "application/json"
    },
    "query_parameters": {
      "user_id": "integer (optional)",
      "domain": "string (optional)"
    },
    "examples": {
      "by_user_id": "{{base_url}}/wedding-profile/public?user_id=1",
      "by_domain": "{{base_url}}/wedding-profile/public?domain=ahmad-siti-wedding"
    },
    "success_response": {
      "status_code": 200,
      "data": {
        "data": {
          "user_info": {
            "id": 1,
            "name": "Ahmad & Siti",
            "kode_pemesanan": "WED001"
          },
          "mempelai": {
            "id": 1,
            "cover_photo": "https://yourdomain.com/storage/mempelai/cover_photo.jpg",
            "urutan_mempelai": "pria_kiri",
            "pria": {
              "photo": "https://yourdomain.com/storage/mempelai/photo_pria.jpg",
              "nama_lengkap": "Ahmad Rizki Pratama",
              "nama_panggilan": "Ahmad",
              "ayah": "Bapak Sutrisno",
              "ibu": "Ibu Sari Indah"
            },
            "wanita": {
              "photo": "https://yourdomain.com/storage/mempelai/photo_wanita.jpg",
              "nama_lengkap": "Siti Nurhaliza Dewi",
              "nama_panggilan": "Siti",
              "ayah": "Bapak Wahyudi",
              "ibu": "Ibu Rina Melati"
            },
            "status": "active",
            "kd_status": "MPLAI001"
          },
          "invitation_package": {
            "id": 1,
            "status": "completed",
            "paket_undangan": {
              "id": 2,
              "jenis_paket": "premium",
              "name_paket": "Paket Premium Wedding",
              "price": 299000,
              "masa_aktif": 365,
              "features": {
                "halaman_buku": 20,
                "kirim_wa": true,
                "bebas_pilih_tema": true,
                "kirim_hadiah": true,
                "import_data": true
              }
            }
          },
          "events": [
            {
              "id": 1,
              "nama_acara": "Akad Nikah",
              "tanggal_acara": "2025-12-15",
              "start_acara": "08:00",
              "end_acara": "10:00",
              "alamat": "Masjid Agung Al-Hikmah, Jl. Raya Timur No. 123, Jakarta Timur",
              "link_maps": "https://maps.google.com/maps?q=-6.2088,106.8456",
              "countdown": {
                "id": 1,
                "name_countdown": "Akad Nikah Countdown"
              }
            }
          ],
          "stories": [
            {
              "id": 1,
              "title": "Pertemuan Pertama",
              "lead_cerita": "Kami pertama kali bertemu di kampus pada tahun 2020...",
              "tanggal_cerita": "2020-02-14",
              "created_at": "2025-08-29 10:30:45"
            }
          ],
          "quotes": [
            {
              "id": 1,
              "name": "Ahmad & Siti",
              "qoute": "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu...",
              "created_at": "2025-08-29 09:45:12"
            }
          ],
          "gallery": [
            {
              "id": 1,
              "photo": "https://yourdomain.com/storage/gallery/prewedding_1.jpg",
              "url_video": null,
              "nama_foto": "Prewedding Session 1",
              "status": true,
              "created_at": "2025-08-29 14:20:33"
            }
          ],
          "bank_accounts": [],
          "settings": {
            "id": 1,
            "domain": "ahmad-siti-wedding",
            "musik": "https://yourdomain.com/storage/music/wedding_song.mp3",
            "salam_pembuka": "Assalamu'alaikum Warahmatullahi Wabarakatuh",
            "salam_atas": "Dengan memohon rahmat dan ridho Allah SWT",
            "salam_bawah": "Atas kehadiran dan doa restu dari Bapak/Ibu/Saudara/i sekalian, kami ucapkan terima kasih."
          },
          "filter_undangan": {
            "id": 1,
            "halaman_sampul": 1,
            "halaman_mempelai": 1,
            "halaman_acara": 1,
            "halaman_ucapan": 1,
            "halaman_galery": 1,
            "halaman_cerita": 1,
            "halaman_lokasi": 1,
            "halaman_prokes": 0,
            "halaman_send_gift": 1,
            "halaman_qoute": 1
          },
          "guest_wishes": [
            {
              "id": 1,
              "nama": "Budi Santoso",
              "kehadiran": "hadir",
              "pesan": "Selamat menempuh hidup baru! Semoga menjadi keluarga yang sakinah, mawaddah, warahmah.",
              "created_at": "2025-08-29 16:45:22"
            }
          ],
          "guest_book": [],
          "testimonials": [],
          "themes": [
            {
              "id": 1,
              "name": "Elegant Gold Theme"
            }
          ],
          "metadata": {
            "profile_created_at": "2025-08-29 08:00:00",
            "profile_updated_at": "2025-08-29 18:30:44",
            "total_events": 2,
            "total_stories": 2,
            "total_quotes": 1,
            "total_gallery_items": 2,
            "total_guest_wishes": 1,
            "is_public_view": true
          }
        }
      }
    },
    "not_found_error": {
      "status_code": 404,
      "data": {
        "message": "Wedding profile not found."
      }
    },
    "forbidden_error": {
      "status_code": 403,
      "data": {
        "message": "Wedding invitation is not yet available for public viewing."
      }
    }
  },

  "data_aggregation_summary": {
    "description": "Summary of all data sources aggregated in wedding profile",
    "included_tables": [
      "users - Basic user information",
      "mempelais - Bride and groom details",
      "invitations - Package and invitation status",
      "acaras - Wedding events and schedules",
      "countdown_acaras - Event countdowns",
      "ceritas - Love stories and relationship timeline",
      "qoutes - Wedding quotes and verses",
      "galeries - Photo and video galleries",
      "rekenings - Bank accounts for gifts (private only)",
      "settings - Website settings and customization",
      "filter_undangans - Page visibility settings",
      "ucapans - Guest wishes and attendance",
      "buku_tamus - Guest book entries (private only)",
      "testimonis - User testimonials (private only)",
      "themas - Selected wedding themes"
    ],
    "performance_optimizations": [
      "Eager loading with relationships to prevent N+1 queries",
      "Selective field loading based on public/private view",
      "Optimized database queries with proper indexing",
      "Conditional loading based on user permissions"
    ]
  },

  "security_considerations": {
    "private_data_protection": [
      "Bank accounts hidden in public view",
      "User email and phone hidden in public view",
      "Guest book entries private only",
      "Testimonials private only",
      "Authentication tokens excluded from responses"
    ],
    "access_control": [
      "Authentication required for private endpoints",
      "User isolation - only own data accessible",
      "Public view only for completed invitations",
      "Domain-based access for public viewing"
    ]
  },

  "frontend_integration": {
    "authenticated_user_dashboard": {
      "endpoint": "GET /api/v1/user/wedding-profile",
      "usage": "Complete wedding management dashboard",
      "features": "Full CRUD access to all wedding data"
    },
    "public_wedding_invitation": {
      "endpoint": "GET /api/v1/wedding-profile/public",
      "usage": "Display wedding invitation to guests",
      "access_methods": ["?user_id=1", "?domain=wedding-domain"]
    },
    "progress_tracking": {
      "endpoint": "GET /api/v1/user/wedding-profile/statistics",
      "usage": "Track wedding profile completion progress",
      "metrics": "Completion percentage and missing items"
    }
  }
}